!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=406)}({10:function(t,e){function o(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}},406:function(t,e,o){"use strict";o.r(e);var n=o(45),i=jQuery,a=o(8).JX3BOX,c=new n.a(".c-dialog-code","code"),s=new n.a(".c-dialog-macro","macro"),r=new n.a(".c-dialog-qixue","qixue"),l=new n.a(".c-dialog-jx3","jx3");tinymce.create("tinymce.plugins.newbutton",{init:function(t,e){t.addButton("button_newcode",{title:"语法高亮",image:a.__imgPath+"editor/code.svg",cmd:"syntax"}),t.addCommand("syntax",(function(){c.open()})),t.addButton("button_checklist",{title:"插入checklist",image:a.__imgPath+"editor/checklist.svg",cmd:"checklist"});var o="";t.addCommand("checklist",(function(){var e=t.selection.getContent();o='<div class="e-checklist">'+e+"<div>",t.execCommand("mceInsertContent",0,o)})),t.addButton("button_folder",{title:"插入折叠文本",image:a.__imgPath+"editor/unfold.svg",cmd:"folder"}),o="",t.addCommand("folder",(function(){var e=t.selection.getContent();o='<pre class="e-summary">折叠头文本</pre>\n                                   <pre class="e-details">被折叠区域文本'.concat(e,"</pre>"),t.execCommand("mceInsertContent",0,o)})),t.addButton("button_macro",{title:"插入剑三宏",image:a.__imgPath+"editor/macro2.svg",cmd:"macro"}),t.addCommand("macro",(function(){s.open()})),t.addButton("button_qixue",{title:"插入剑三奇穴",image:a.__imgPath+"editor/qixue.svg",cmd:"qixue"}),t.addCommand("qixue",(function(){r.open()})),t.addButton("button_jx3",{title:"插入剑三资源",image:a.__imgPath+"editor/jx3.svg",cmd:"jx3"}),t.addCommand("jx3",(function(){l.open()})),t.addButton("button_spaceline",{title:"插入绝对空行",image:a.__imgPath+"editor/return.svg",cmd:"spaceline"}),t.addCommand("spaceline",(function(){t.execCommand("mceInsertContent",0,'<hr class="e-spaceline" />')})),i(document).on("dialog_ok",(function(e,o){if("code"==o){var n=i("#syntax-grammar").val(),a=i("#syntax-code").val(),c='\n                              <pre><code class="e-area-code" data-language="'.concat(n,'">').concat(a,"</code></pre>\n                         ");t.execCommand("mceInsertContent",0,c),setTimeout((function(){i("#syntax-code").val("")}),2e3)}else if("macro"==o){var s=i("#c-dialog-insert-macro").val(),r='<pre class="e-jx3macro-area w-jx3macro">'.concat(s,"</pre>");t.execCommand("mceInsertContent",0,r),setTimeout((function(){i("#c-dialog-insert-macro").val("")}),2e3)}else if("qixue"==o){var l=i("#c-dialog-insert-qixue").val(),d='<input class="e-jx3qixue-area" type="text" value=\''.concat(l,"' />");t.execCommand("mceInsertContent",0,d),setTimeout((function(){i("#c-dialog-insert-qixue").val("")}),2e3)}else if("jx3"==o){var u=i("#c-dialog-insert-jx3").html();t.execCommand("mceInsertContent",0,u)}}))},createControl:function(t,e){return null}}),tinymce.PluginManager.add("my_button_script",tinymce.plugins.newbutton)},45:function(t,e,o){"use strict";var n=o(9),i=o.n(n),a=o(10),c=o.n(a),s=jQuery,r=function(){function t(e,o){i()(this,t),this.$dialog=s(e||".c-dialog-default"),this.$ok=this.$dialog.find(".u-ok"),this.$cancel=this.$dialog.find(".u-cancel"),this.$close=this.$dialog.find(".u-close"),this.$title=this.$dialog.find(".u-title"),this.$content=this.$dialog.find(".u-content"),this.type=o||"default",this.init()}return c()(t,[{key:"init",value:function(){var t=this;this.$dialog.on("click",".u-ok",(function(){t.$dialog.hide(),s(document).trigger("dialog_ok",t.type)})),this.$dialog.on("click",".u-cancel",(function(){t.$dialog.hide(),s(document).trigger("dialog_no",t.type)})),this.$dialog.on("click",".u-close",(function(){t.$dialog.hide()}))}},{key:"empty",value:function(){this.$title.html(""),this.$content.html("")}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",content:"",class:"",type:""};t.title&&(this.title=t.title,this.$title.html(this.title)),t.content&&(this.content=t.content,this.$content.html(this.content)),t.class&&this.$dialog.addClass(this.class),t.type&&(this.type=t.type),this.$dialog.show()}},{key:"open",value:function(){this.$dialog.show()}},{key:"close",value:function(){this.$dialog.hide()}}],[{key:"clone",value:function(t){var e=s(".c-dialog-default").clone(!0);return s("body").append(e),e.removeClass("c-dialog-default").addClass(t)}}]),t}();e.a=r},8:function(t,e){t.exports={JX3BOX:{__Root:"https://www.jx3box.com/",__Mirror:"https://mirror.jx3box.com/",__ossRoot:"https://oss.jx3box.com/",__ossMirror:"https://console.cnyixun.com/",__iconPath:"https://console.cnyixun.com/icon/",__imgPath:"https://console.cnyixun.com/img/",__emtionPath:"https://console.cnyixun.com/emotion/",__dataPath:"https://cdn.jx3box.com/data/",__imagePath:"https://cdn.jx3box.com/image/",__cssPath:"https://static.jx3box.com/css/",__jsPath:"https://static.jx3box.com/js/",__server:"https://server.jx3box.com/",__node:"https://node.jx3box.com/",__spider:"https://spider.jx3box.com/",__proxy:"https://proxy.jx3box.com/",__helperUrl:"https://helper.jx3box.com/",__searchRoot:"https://search.jx3box.com/",__v2:"https://v2.jx3box.com/",__postType:{posts:"论坛",macro:"剑三宏库",jx3dat:"插件数据",fb:"副本攻略",bps:"职业攻略",cj:"成就百科",share:"捏脸分享",tool:"教程工具",help:"帮助文档",post:"茶馆交流",page:"系统页面"},default_avatar:"image/common/avatar.png",avatar_suffix_s:"?x-oss-process=style/avatar_s",avatar_suffix_m:"?x-oss-process=style/avatar_m",avatar_suffix_l:"?x-oss-process=style/avatar_l",__restRoot:"https://www.jx3box.com/wp-json/",__apiRoot:"https://www.jx3box.com/wp-json/api/",__restPost:"https://www.jx3box.com/wp-json/wp/v2/"}}},9:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}});